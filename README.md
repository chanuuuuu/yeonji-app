# 연지교회 청년부 출석부 웹앱

2020.02 - 2020.04: __서비스__  
현재 : __코로나로 인한 셀모임 중단으로 인해 서비스 중단__

</br>
</br>

## 구현 목적
---
1. 기존 종이로 된 출석부를 사용하기 때문에 셀모임이 끝난 후 반드시 제출해야하는 번거로움을 해결
2. 셀모임 데이터를 활용한 셀원 들의 상태관리 효율화
3. 잠재적인 이탈 가능성을 가진 셀원들을 예측, 관리 시스템 구축

</br>
</br>

## 주요기능

1. 출석부 기능  
    > 매주 셀원 들의 출석을 체크하기 위한 출석부   
    - 기존 출석부에서 기록하였던 여러가지 항목 추가
        1. 오전 예배 출석
        2. 오후 예배 출석
        3. 오전 셀모임 출석
        4. 읽은 성경 장 수 (한 주 동안)
    - 기타 변수는 향후 추가 예정
  
2. 기도제목 나눔 기능
    > 기도제목을 나누고 해당 기도제목 입력
    - 셀 내부 뿐 만 아니라 모든 셀원들의 기도제목을 함께 공유 

3. 셀원 관리 기능
   >  셀원의 출석 빈도를 통한 셀원의 현재 상태 체크
   - 일정 횟수를 기준으로 현재 셀원의 상태를 이모티콘으로 표현
   - 셀 리더, 임원 모두 셀원 상태 파악 가능


</br>
</br>


## 디렉토리 구성

1. service  
    > DB와 연결하여 데이터를 조회, 전달하는 서버 

2. client
    > 유저 인터페이스 React 서버
  
</br>


## 테이블 구성

1. 구성원
    - 이름 
    - ID 
    - 최근출석날짜 
    - 생일자 
    - 셀 ID 
    - 권한 (0: 임원, 1: 셀리더, 2: 셀원)

2. 기도제목  
    - 날짜 
    - 이름 
    - ID 
    - 기도제목  
  
3. 출석부
    > 매주 셀마다 셀원들의 출석을 체크하게되면 밑의 예제와 같은 레코드가 셀원의 수만큼 생성.  
   - 날짜 
   - 셀번호 
   - 이름 
   - ID 
   - 출석(오전, 청년부, 오후) 
   - 특이사항 

</br>
</br>

### 구현 추가 사항

- 현재 달을 통해 생년월일을 체크하여 이번달 생일자를 보여준다.
- 최근 출석날짜를 최신화하여 얼마나 오래되었는지 체크한다.
- 일요일만 출석부를 활성화한다.
- 현재요일의 update date가 존재하지 않으면, 미출석으로 간주한다.


</br>
</br>

### 배포시 필요한 docker 명령어


1. react 서버 컨테이너 실행  
    `docker run --name yeonji_react -d -p 3001:3001 -v /etc/localtime:/etc/localtime:ro --env-file ./yeonji.env dn0208/yeonji_react:1.0`

2. node.js 서버 컨테이너 실행  
    `docker run --name yeonji_api -d -p 3000:3000 -v /etc/localtime:/etc/localtime:ro --env-file ./yeonji.env dn0208/yeonji_api:2.0`

3. docker 접속  
    `docker exec -it /bin/bash`


